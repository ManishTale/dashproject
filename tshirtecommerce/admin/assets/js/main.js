var isIE8=!1,isIE9=!1,$windowWidth,$windowHeight,$pageArea,Main=function(){var e=function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=new Number(RegExp.$1);8==e?isIE8=!0:9==e&&(isIE9=!0)}},n=function(){$windowWidth=jQuery(window).width(),$windowHeight=jQuery(window).height(),$pageArea=jQuery(window).height()-jQuery("header").outerHeight()-jQuery(".footer").outerHeight(),jQuery(".sidebar-search input").removeAttr("style").removeClass("open"),jQuery(".sidebar-fixed .wrap-menu").css("height",$pageArea),o()},o=function(){mainContainer=jQuery(".main-content > .container"),mainNavigation=jQuery(".main-navigation"),mainContainer.outerHeight()<mainNavigation.outerHeight()?mainContainer.css("min-height",mainNavigation.outerHeight()):mainContainer.css("min-height","760px")},t=function(){jQuery(".todo-actions").length&&jQuery(".todo-actions").click(function(){return"icon-check-empty"==jQuery(this).find("i").attr("class")?(jQuery(this).find("i").removeClass("icon-check-empty").addClass("icon-check"),jQuery(this).parent().find("span").css({opacity:.25}),jQuery(this).parent().find(".desc").css("text-decoration","line-through")):(jQuery(this).find("i").removeClass("icon-check").addClass("icon-check-empty"),jQuery(this).parent().find("span").css({opacity:1}),jQuery(this).parent().find(".desc").css("text-decoration","none")),!1})},a=function(){jQuery(".tooltips").length&&jQuery(".tooltips").tooltip()},r=function(){jQuery(".popovers").length&&jQuery(".popovers").popover()},i=function(){jQuery(".show-tab").length&&jQuery(".show-tab").bind("click",function(e){e.preventDefault();var n=jQuery(this).attr("href");jQuery(n).length&&jQuery('a[href="'+n+'"]').tab("show")}),p("tabId").length&&jQuery('a[href="#'+p("tabId")+'"]').tab("show")},s=function(){jQuery(".accordion").length&&jQuery(".accordion .panel-collapse").each(function(){jQuery(this).hasClass("in")||jQuery(this).prev(".panel-heading").find(".accordion-toggle").addClass("collapsed")}),jQuery(".accordion").collapse().height("auto");jQuery(".accordion .accordion-toggle").bind("click",function(){currentTab=jQuery(this),jQuery("html,body").animate({scrollTop:currentTab.offset().top-100},1e3)})},l=function(){jQuery(".navigation-toggler").bind("click",function(){jQuery("body").hasClass("navigation-small")?jQuery("body").removeClass("navigation-small"):jQuery("body").addClass("navigation-small")})},u=function(){jQuery(".panel-tools .panel-expand").bind("click",function(e){jQuery(".panel-tools a").not(this).hide(),jQuery("body").append('<div class="full-white-backdrop"></div>'),jQuery(".main-container").removeAttr("style"),backdrop=jQuery(".full-white-backdrop"),wbox=jQuery(this).parents(".panel"),wbox.removeAttr("style"),wbox.hasClass("panel-full-screen")?backdrop.fadeIn(200,function(){jQuery(".panel-tools a").show(),wbox.removeClass("panel-full-screen"),backdrop.fadeOut(200,function(){backdrop.remove()})}):(jQuery("body").append('<div class="full-white-backdrop"></div>'),backdrop.fadeIn(200,function(){jQuery(".main-container").css({"max-height":jQuery(window).outerHeight()-jQuery("header").outerHeight()-jQuery(".footer").outerHeight()-100,overflow:"hidden"}),backdrop.fadeOut(200),backdrop.remove(),wbox.addClass("panel-full-screen").css({"max-height":jQuery(window).height(),overflow:"auto"})}))}),jQuery(".panel-tools .panel-close").bind("click",function(e){jQuery(this).parents(".panel").remove(),e.preventDefault()}),jQuery(".panel-tools .panel-refresh").bind("click",function(e){var n=jQuery(this).parents(".panel");n.block({overlayCSS:{backgroundColor:"#fff"},message:'<img src="assets/images/loading.gif" /> Just a moment...',css:{border:"none",color:"#333",background:"none"}}),window.setTimeout(function(){n.unblock()},1e3),e.preventDefault()}),jQuery(".panel-tools .panel-collapse").bind("click",function(e){e.preventDefault();var n=jQuery(this).parent().closest(".panel").children(".panel-body");jQuery(this).hasClass("collapses")?(jQuery(this).addClass("expand").removeClass("collapses"),n.slideUp(200)):(jQuery(this).addClass("collapses").removeClass("expand"),n.slideDown(200))})},c=function(){jQuery(".main-navigation-menu li.active").addClass("open"),jQuery(".main-navigation-menu > li a").bind("click",function(){!jQuery(this).parent().children("ul").hasClass("sub-menu")||jQuery("body").hasClass("navigation-small")&&jQuery(this).parent().parent().hasClass("main-navigation-menu")||(jQuery(this).parent().hasClass("open")?jQuery(this).parent().hasClass("active")?jQuery(this).parent().parent().children("li.open").removeClass("open").children("ul").slideUp(200,function(){o()}):jQuery(this).parent().parent().children("li.open").not(jQuery(".main-navigation-menu > li.active")).removeClass("open").children("ul").slideUp(200,function(){o()}):(jQuery(this).parent().addClass("open"),jQuery(this).parent().parent().children("li.open").not(jQuery(this).parent()).not(jQuery(".main-navigation-menu > li.active")).removeClass("open").children("ul").slideUp(200),jQuery(this).parent().children("ul").slideDown(200,function(){o()})))})},d=function(){jQuery(".go-top").bind("click",function(e){jQuery("html, body").animate({scrollTop:0},"slow"),e.preventDefault()})},y=function(){jQuery(".dropdown-menu.dropdown-enduring").length&&jQuery(".dropdown-menu.dropdown-enduring").click(function(e){e.stopPropagation()})},p=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))},h=function(){jQuery("#style_selector select").each(function(){jQuery(this).find("option:first").attr("selected","selected")}),jQuery(".style-toggle").bind("click",function(){jQuery(this).hasClass("open")?(jQuery(this).removeClass("open").addClass("close"),jQuery("#style_selector_container").hide()):(jQuery(this).removeClass("close").addClass("open"),jQuery("#style_selector_container").show())}),j(),f(),m(),g(),Q()};jQuery(".drop-down-wrapper").perfectScrollbar({wheelSpeed:50,minScrollbarLength:20,wheelPropagation:!0}),jQuery(".navbar-tools .dropdown").on("shown.bs.dropdown",function(){jQuery(this).find(".drop-down-wrapper").scrollTop(0).perfectScrollbar("update")});var j=function(){jQuery(".icons-color a").bind("click",function(){jQuery(".icons-color img").each(function(){jQuery(this).removeClass("active")}),jQuery(this).find("img").addClass("active"),jQuery("#skin_color").attr("href","assets/css/theme_"+jQuery(this).attr("id")+".css")})},Q=function(){jQuery(".boxed-patterns a").bind("click",function(){if(jQuery("body").hasClass("layout-boxed")){var e=jQuery("body").attr("class").split(" ").filter(function(e){return-1===e.indexOf("bg_style_")?e:""});jQuery("body").attr("class",e.join(" ")),jQuery(".boxed-patterns img").each(function(){jQuery(this).removeClass("active")}),jQuery(this).find("img").addClass("active"),jQuery("body").addClass(jQuery(this).attr("id"))}else alert("Select boxed layout")})},f=function(){jQuery('select[name="layout"]').change(function(){"boxed"==jQuery('select[name="layout"] option:selected').val()?jQuery("body").addClass("layout-boxed"):jQuery("body").removeClass("layout-boxed")})},m=function(){jQuery('select[name="header"]').change(function(){"default"==jQuery('select[name="header"] option:selected').val()?jQuery("body").addClass("header-default"):jQuery("body").removeClass("header-default")})},g=function(){jQuery('select[name="footer"]').change(function(){"fixed"==jQuery('select[name="footer"] option:selected').val()?jQuery("body").addClass("footer-fixed"):jQuery("body").removeClass("footer-fixed")})},b=function(e,n,o){var t;return function(){var a=this,r=arguments;t?clearTimeout(t):o&&e.apply(a,r),t=setTimeout(function(){o||e.apply(a,r),t=null},n||50)}},v=function(e,o,t){jQuery(window).resize=b(function(e){n()},50,!1),jQuery(".panel-scroll").perfectScrollbar({wheelSpeed:50,minScrollbarLength:20,wheelPropagation:!0})};return{init:function(){v(),e(),h(),n(),t(),l(),c(),d(),u(),y(),a(),r(),i(),s()}}}();